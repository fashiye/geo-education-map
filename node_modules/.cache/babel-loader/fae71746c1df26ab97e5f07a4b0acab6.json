{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fashi\\\\Desktop\\\\sb\\\\map\\\\map\\\\geo-education-map\\\\src\\\\components\\\\MapView.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './MapView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapView = () => {\n  _s();\n  const [map, setMap] = useState(null);\n  const [provinceInfo, setProvinceInfo] = useState('');\n  const [cityInfo, setCityInfo] = useState('');\n  const [cities, setCities] = useState([]);\n  useEffect(() => {\n    const initMap = () => {\n      const mapInstance = new window.AMap.Map('mapContainer', {\n        zoom: 5,\n        center: [123.4294, 41.7968] // 辽宁省中心坐标\n      });\n      setMap(mapInstance);\n    };\n    initMap();\n  }, []);\n  const handleProvinceClick = async provinceName => {\n    const data = await getProvinceData(provinceName);\n    setProvinceInfo(data.introduction);\n    setCities(data.cities);\n    zoomToProvince(provinceName);\n  };\n  const handleCityClick = async cityName => {\n    const data = await getCityData(cityName);\n    setCityInfo(data.introduction);\n    zoomToCity(cityName);\n  };\n  const zoomToProvince = provinceName => {\n    // 逻辑来放大到省级\n    map.setZoom(6);\n    map.setCenter([123.4294, 41.7968]); // 辽宁省中心坐标\n    highlightCities(cities);\n  };\n  const zoomToCity = cityName => {\n    // 逻辑来放大到市级\n    const cityCoordinates = getCityCoordinates(cityName);\n    map.setZoom(8);\n    map.setCenter(cityCoordinates);\n  };\n  const highlightCities = cities => {\n    // 高亮显示各个市的逻辑\n    cities.forEach(city => {\n      // 逻辑来高亮城市\n    });\n  };\n  const handleMapClick = async () => {\n    const result = await generateDescription(cityInfo);\n    // 处理生成的地理介绍文本\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"mapContainer\",\n    onClick: handleMapClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"province-info\",\n      children: provinceInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"city-info\",\n      children: cityInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(MapView, \"BHUAtefHBkqBA7tG8+fqoHfzbOw=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","MapView","_s","map","setMap","provinceInfo","setProvinceInfo","cityInfo","setCityInfo","cities","setCities","initMap","mapInstance","window","AMap","Map","zoom","center","handleProvinceClick","provinceName","data","getProvinceData","introduction","zoomToProvince","handleCityClick","cityName","getCityData","zoomToCity","setZoom","setCenter","highlightCities","cityCoordinates","getCityCoordinates","forEach","city","handleMapClick","result","generateDescription","id","onClick","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Fashi/Desktop/sb/map/map/geo-education-map/src/components/MapView.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getProvinceInfo, getCityInfo } from '../api/amap';\nimport { getGeoDescription } from '../api/deepseek';\nimport './MapView.css';\n\nconst MapView = () => {\n    const [map, setMap] = useState(null);\n    const [provinceInfo, setProvinceInfo] = useState('');\n    const [cityInfo, setCityInfo] = useState('');\n    const [cities, setCities] = useState([]);\n\n    useEffect(() => {\n        const initMap = () => {\n            const mapInstance = new window.AMap.Map('mapContainer', {\n                zoom: 5,\n                center: [123.4294, 41.7968], // 辽宁省中心坐标\n            });\n            setMap(mapInstance);\n        };\n\n        initMap();\n    }, []);\n\n    const handleProvinceClick = async (provinceName) => {\n        const data = await getProvinceData(provinceName);\n        setProvinceInfo(data.introduction);\n        setCities(data.cities);\n        zoomToProvince(provinceName);\n    };\n\n    const handleCityClick = async (cityName) => {\n        const data = await getCityData(cityName);\n        setCityInfo(data.introduction);\n        zoomToCity(cityName);\n    };\n\n    const zoomToProvince = (provinceName) => {\n        // 逻辑来放大到省级\n        map.setZoom(6);\n        map.setCenter([123.4294, 41.7968]); // 辽宁省中心坐标\n        highlightCities(cities);\n    };\n\n    const zoomToCity = (cityName) => {\n        // 逻辑来放大到市级\n        const cityCoordinates = getCityCoordinates(cityName);\n        map.setZoom(8);\n        map.setCenter(cityCoordinates);\n    };\n\n    const highlightCities = (cities) => {\n        // 高亮显示各个市的逻辑\n        cities.forEach(city => {\n            // 逻辑来高亮城市\n        });\n    };\n\n    const handleMapClick = async () => {\n        const result = await generateDescription(cityInfo);\n        // 处理生成的地理介绍文本\n    };\n\n    return (\n        <div id=\"mapContainer\" onClick={handleMapClick}>\n            <div className=\"province-info\">{provinceInfo}</div>\n            <div className=\"city-info\">{cityInfo}</div>\n        </div>\n    );\n};\n\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}